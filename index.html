<!DOCTYPE html>
<html lang="zh-CN" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="baidu-site-verification" content="codeva-Kt5o1gHUKD" />
    <title>ICH Biofarm - Professional Pharmaceutical Ingredients Supplier</title>
    <link rel="icon" href="./images/logo web.svg" type="image/svg+xml">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        primary: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            200: '#bae6fd',
                            300: '#7dd3fc',
                            400: '#38bdf8',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            800: '#075985',
                            900: '#0c4a6e',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        [x-cloak] { display: none !important; }
        .fade-in {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .logo-container img {
            transition: all 0.3s ease;
        }
        .dark .logo-container img {
            filter: brightness(1.2);
        }
    </style>
</head>
<body class="bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 font-sans antialiased">
    <body id="top" class="bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 font-sans antialiased"></body>
    <!-- Navigation -->
    <nav class="fixed w-full z-50 transition-all duration-300" id="main-nav">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <a href="#top" class="flex items-center logo-container">
                        <img src="./images/logo.svg" alt="ICH Biofarm Logo" class="h-10 w-auto mr-2" />
                        <span class="text-xl font-bold text-primary-600 dark:text-primary-400 hover:opacity-80 transition-opacity">ICH Biofarm</span>
                    </a>
                </div>
                <div class="hidden md:flex items-center space-x-4">
                    <button id="lang-toggle" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
                        <span class="lang-zh">中文</span>
                        <span class="lang-en hidden">English</span>
                    </button>
                    <button id="theme-toggle" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
                        <i class="fas fa-moon dark:hidden"></i>
                        <i class="fas fa-sun hidden dark:block"></i>
                    </button>
                    <a href="#about" class="nav-link hover:text-primary-600 dark:hover:text-primary-400 transition-colors" data-translate="nav.about">关于我们</a>
                    <a href="#products" class="nav-link hover:text-primary-600 dark:hover:text-primary-400 transition-colors" data-translate="nav.products">主要产品</a>
                    <a href="#technology" class="nav-link hover:text-primary-600 dark:hover:text-primary-400 transition-colors" data-translate="nav.technology">技术实力</a>
                    <a href="#contact" class="nav-link hover:text-primary-600 dark:hover:text-primary-400 transition-colors" data-translate="nav.contact">联系我们</a>
                </div>
                <div class="md:hidden flex items-center space-x-2">
                    <button id="mobile-lang-toggle" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
                        <span class="lang-zh">中文</span>
                        <span class="lang-en hidden">English</span>
                    </button>
                    <button id="mobile-theme-toggle" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
                        <i class="fas fa-moon dark:hidden"></i>
                        <i class="fas fa-sun hidden dark:block"></i>
                    </button>
                    <button id="mobile-menu-button" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
            <!-- Mobile Menu -->
            <div id="mobile-menu" class="md:hidden hidden py-2 space-y-2 bg-white dark:bg-gray-900">
                <div class="flex flex-col items-end space-y-2">
                <a href="#about" class="block px-4 py-2 w-full text-right hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors" data-translate="nav.about">关于我们</a>
                <a href="#products" class="block px-4 py-2 w-full text-right hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors" data-translate="nav.products">产品</a>
                <a href="#technology" class="block px-4 py-2 w-full text-right hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors" data-translate="nav.technology">技术</a>
                <a href="#contact" class="block px-4 py-2 w-full text-right hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors" data-translate="nav.contact">联系我们</a>
            </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="pt-32 pb-16 px-4 sm:px-6 lg:px-8">
        <div class="max-w-7xl mx-auto">
            <div class="text-center">
                <h1 class="text-4xl sm:text-5xl font-bold text-gray-900 dark:text-white mb-6 fade-in" data-translate="hero.title">
                    ICH Biofarm
                </h1>
                <p class="text-xl text-gray-600 dark:text-gray-300 mb-8 fade-in" data-translate="hero.subtitle">
                    专业医药中间体、水处理剂及特种化学品研发与销售
                </p>
                <div class="flex justify-center space-x-4">
                    <a href="#contact" class="bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors" data-translate="hero.contact">
                        联系我们
                    </a>
                    <a href="#products" class="border border-primary-600 text-primary-600 dark:text-primary-400 px-6 py-3 rounded-lg hover:bg-primary-50 dark:hover:bg-primary-900/20 transition-colors" data-translate="hero.viewProducts">
                        查看产品
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-16 px-4 sm:px-6 lg:px-8 bg-gray-50 dark:bg-gray-800">
        <div class="max-w-7xl mx-auto">
            <h2 class="text-3xl font-bold text-center mb-12" data-translate="about.title">关于我们</h2>
            <div class="grid md:grid-cols-2 gap-8">
                <div class="space-y-4 fade-in">
                    <p class="text-gray-600 dark:text-gray-300" data-translate="about.description">
                        杭州安凯生物医药有限公司秉承国际、合作、诚信的价值观。作为一家充满活力的专业公司，我们致力于在全球建立品牌并快速进步。
                    </p>
                    <div class="space-y-4">
                        <h3 class="text-xl font-semibold" data-translate="about.strengths">我们的优势</h3>
                        <ul class="space-y-2">
                            <li class="flex items-start">
                                <i class="fas fa-check text-primary-600 mt-1 mr-2"></i>
                                <span data-translate="about.strength1">深入知识：对中国医药和化工制造领域的深刻理解</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check text-primary-600 mt-1 mr-2"></i>
                                <span data-translate="about.strength2">合作伙伴：与100多家工厂保持稳定的合作关系</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check text-primary-600 mt-1 mr-2"></i>
                                <span data-translate="about.strength3">快速响应：及时满足客户需求，确保供应链效率</span>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="bg-white dark:bg-gray-700 rounded-lg p-6 shadow-lg hover:shadow-xl transition-shadow fade-in">
                    <h3 class="text-xl font-semibold mb-4" data-translate="about.commitments">我们的承诺</h3>
                    <ul class="space-y-4">
                        <li class="flex items-start">
                            <i class="fas fa-star text-primary-600 mt-1 mr-2"></i>
                            <span data-translate="about.commitment1">质量至上：严格遵循质量第一原则</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-flask text-primary-600 mt-1 mr-2"></i>
                            <span data-translate="about.commitment2">研发与营销：专业团队协同工作，推动公司创新发展</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Products Section -->
    <section id="products" class="py-16 px-4 sm:px-6 lg:px-8">
        <div class="max-w-7xl mx-auto">
            <h2 class="text-3xl font-bold text-center mb-12" data-translate="products.title">主要产品</h2>
            
            <!-- Product Search -->
            <div class="mb-8">
                <div class="relative">
                    <input type="text" id="product-search" 
                           class="w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"
                           placeholder="搜索产品名称、CAS号、规格、标准..."
                           data-translate="products.searchPlaceholder">
                    <button class="absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-primary-600">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
            </div>

            <!-- Product Categories -->
            <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-16">
                <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow-lg hover:shadow-xl transition-shadow fade-in">
                    <h3 class="text-xl font-semibold mb-4" data-translate="products.API">药物活性成分</h3>
                    <p class="text-gray-600 dark:text-gray-300" data-translate="products.APIDesc">高品质医药原料药和中间体</p>
                </div>
                <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow-lg hover:shadow-xl transition-shadow fade-in">
                    <h3 class="text-xl font-semibold mb-4" data-translate="products.VIT">维生素</h3>
                    <p class="text-gray-600 dark:text-gray-300" data-translate="products.VITDesc">药品和食品级维生素</p>
                </div>
                <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow-lg hover:shadow-xl transition-shadow fade-in">
                    <h3 class="text-xl font-semibold mb-4" data-translate="products.AA">氨基酸</h3>
                    <p class="text-gray-600 dark:text-gray-300" data-translate="products.AADesc">优质氨基酸产品</p>
                </div>
            </div>

            <!-- Product Tables Container -->
            <div id="product-tables" class="space-y-16">
                <!-- Tables will be dynamically loaded here -->
            </div>

            <!-- Export Button -->
            <div class="mt-8 text-center">
                <button onclick="exportToCSV()" 
                        class="bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors mr-4">
                    <i class="fas fa-download mr-2"></i>
                    <span data-translate="products.export">导出产品数据</span>
                </button>
                <button onclick="openProductCatalog()" 
                        class="bg-white dark:bg-gray-700 border border-primary-600 text-primary-600 dark:text-primary-400 px-6 py-3 rounded-lg hover:bg-primary-50 dark:hover:bg-primary-900/20 transition-colors">
                    <i class="fas fa-list-ul mr-2"></i>
                    <span data-translate="products.viewAll">查看所有产品</span>
                </button>
            </div>
        </div>
    </section>

    <!-- Technology Section -->
    <section id="technology" class="py-16 px-4 sm:px-6 lg:px-8 bg-gray-50 dark:bg-gray-800">
        <div class="max-w-7xl mx-auto">
            <h2 class="text-3xl font-bold text-center mb-12" data-translate="technology.title">技术实力</h2>
            <div class="grid md:grid-cols-2 gap-8">
                <div class="space-y-6 fade-in">
                    <div class="flex items-start">
                        <i class="fas fa-graduation-cap text-primary-600 text-2xl mt-1 mr-4"></i>
                        <div>
                            <h3 class="text-xl font-semibold mb-2" data-translate="technology.team">专业团队</h3>
                            <p class="text-gray-600 dark:text-gray-300" data-translate="technology.teamDesc">拥有2名有机化学博士、3名工程硕士及其他研发人员</p>
                        </div>
                    </div>
                    <div class="flex items-start">
                        <i class="fas fa-certificate text-primary-600 text-2xl mt-1 mr-4"></i>
                        <div>
                            <h3 class="text-xl font-semibold mb-2" data-translate="technology.patents">专利技术</h3>
                            <p class="text-gray-600 dark:text-gray-300" data-translate="technology.patentsDesc">拥有10多项专利，多个产品在国内首次研发并产业化</p>
                        </div>
                    </div>
                </div>
                <div class="space-y-6 fade-in">
                    <div class="flex items-start">
                        <i class="fas fa-flask text-primary-600 text-2xl mt-1 mr-4"></i>
                        <div>
                            <h3 class="text-xl font-semibold mb-2" data-translate="technology.equipment">先进设备</h3>
                            <p class="text-gray-600 dark:text-gray-300" data-translate="technology.equipmentDesc">配备通风橱、有机合成设备及先进分析仪器</p>
                        </div>
                    </div>
                    <div class="flex items-start">
                        <i class="fas fa-handshake text-primary-600 text-2xl mt-1 mr-4"></i>
                        <div>
                            <h3 class="text-xl font-semibold mb-2" data-translate="technology.cooperation">产学研合作</h3>
                            <p class="text-gray-600 dark:text-gray-300" data-translate="technology.cooperationDesc">与浙江大学、浙江科技学院及上海有机所建立长期合作关系</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Exhibition Section -->
    <section id="exhibitions" class="py-16 px-4 sm:px-6 lg:px-8 bg-gradient-to-b from-gray-50 to-white dark:from-gray-800 dark:to-gray-900">
        <div class="max-w-7xl mx-auto">
            <h2 class="text-3xl font-bold text-center mb-12 fade-in" data-translate="exhibitions.title">线下展会</h2>
            <div class="grid md:grid-cols-2 gap-8 relative">
                <!-- China Exhibition 2025 -->
                <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow-lg hover:shadow-xl transition-shadow fade-in">
                    <div class="flex items-center mb-4">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/f/fa/Flag_of_the_People%27s_Republic_of_China.svg" alt="China Flag" class="w-8 h-6 mr-3 object-cover rounded">
                        <h3 class="text-xl font-semibold" data-translate="exhibitions.china2025.country">中国</h3>
                    </div>
                    <div class="space-y-3">
                        <div class="flex items-center justify-between">
                            <p class="font-medium" data-translate="exhibitions.china2025.name">CPhI & PMEC China 2025</p>
                            <span class="text-primary-600 dark:text-primary-400 font-medium ml-2" data-translate="exhibitions.china2025.booth">展位号：E7A56</span>
                        </div>
                        <p class="text-gray-600 dark:text-gray-300">
                            <i class="fas fa-map-marker-alt mr-2"></i>
                            <span data-translate="exhibitions.china2025.venue">上海新国际博览中心</span>
                            <span class="text-sm text-gray-500 dark:text-gray-400 block mt-1" data-translate="exhibitions.china2025.address">中国上海市浦东新区龙阳路2345号，邮编：201204</span>
                        </p>
                        <p class="text-gray-600 dark:text-gray-300">
                            <i class="fas fa-calendar mr-2"></i>
                            <span data-translate="exhibitions.china2025.date">2025年6月24日 - 6月26日</span>
                        </p>
                    </div>
                </div>
                <!-- Japan Exhibition -->
                <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow-lg hover:shadow-xl transition-shadow fade-in">
                    <div class="flex items-center mb-4">
                        <img src="https://upload.wikimedia.org/wikipedia/en/thumb/9/9e/Flag_of_Japan.svg/1920px-Flag_of_Japan.svg.png" alt="Japan Flag" class="w-8 h-6 mr-3 object-cover rounded">
                        <h3 class="text-xl font-semibold" data-translate="exhibitions.japan.country">日本</h3>
                    </div>
                    <div class="space-y-3">
                        <div class="flex items-center justify-between">
                            <p class="font-medium" data-translate="exhibitions.japan.name">CPHI Japan 2025</p>
                            <span class="text-primary-600 dark:text-primary-400 font-medium ml-2" data-translate="exhibitions.japan.booth">展位号：4X16</span>
                        </div>
                        <p class="text-gray-600 dark:text-gray-300">
                            <i class="fas fa-map-marker-alt mr-2"></i>
                            <span data-translate="exhibitions.japan.venue">日本东京有明国际会展中心</span>
                            <span class="text-sm text-gray-500 dark:text-gray-400 block mt-1" data-translate="exhibitions.japan.address">3-21-1 Ariake, Koto-ku, Tokyo 135-0063, Japan</span>
                        </p>
                        <p class="text-gray-600 dark:text-gray-300">
                            <i class="fas fa-calendar mr-2"></i>
                            <span data-translate="exhibitions.japan.date">2025年04月09日 - 04月11日</span>
                        </p>
                    </div>
                </div>

                <!-- Middle East Exhibition -->
                <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow-lg hover:shadow-xl transition-shadow fade-in">
                    <div class="flex items-center mb-4">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0d/Flag_of_Saudi_Arabia.svg/1920px-Flag_of_Saudi_Arabia.svg.png" alt="Saudi Arabia Flag" class="w-8 h-6 mr-3 object-cover rounded">
                        <h3 class="text-xl font-semibold" data-translate="exhibitions.middleEast.country">中东和非洲</h3>
                    </div>
                    <div class="space-y-3">
                        <div class="flex items-center justify-between">
                            <p class="font-medium" data-translate="exhibitions.middleEast.name">CPHI Middle East 2024</p>
                            <span class="text-primary-600 dark:text-primary-400 font-medium ml-2" data-translate="exhibitions.middleEast.booth">展位号：4C59</span>
                        </div>
                        <p class="text-gray-600 dark:text-gray-300">
                            <i class="fas fa-map-marker-alt mr-2"></i>
                            <span data-translate="exhibitions.middleEast.venue">沙特阿拉伯利雅得前线展览与会议中心</span>
                            <span class="text-sm text-gray-500 dark:text-gray-400 block mt-1" data-translate="exhibitions.middleEast.address">略</span>
                        </p>
                        <p class="text-gray-600 dark:text-gray-300">
                            <i class="fas fa-calendar mr-2"></i>
                            <span data-translate="exhibitions.middleEast.date">2024年12月10日 - 12月12日</span>
                        </p>
                    </div>
                </div>

                <!-- Russia Exhibition -->
                <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow-lg hover:shadow-xl transition-shadow fade-in">
                    <div class="flex items-center mb-4">
                        <img src="https://upload.wikimedia.org/wikipedia/en/thumb/f/f3/Flag_of_Russia.svg/1920px-Flag_of_Russia.svg.png" alt="Russia Flag" class="w-8 h-6 mr-3 object-cover rounded">
                        <h3 class="text-xl font-semibold" data-translate="exhibitions.russia.country">俄罗斯</h3>
                    </div>
                    <div class="space-y-3">
                        <div class="flex items-center justify-between">
                            <p class="font-medium" data-translate="exhibitions.russia.name">Pharmtech & Ingredients 2024</p>
                        </div>
                        <p class="text-gray-600 dark:text-gray-300">
                            <i class="fas fa-map-marker-alt mr-2"></i>
                            <span data-translate="exhibitions.russia.venue">克洛库斯国际会展中心</span>
                            <span class="text-sm text-gray-500 dark:text-gray-400 block mt-1" data-translate="exhibitions.russia.address">Krasnogorsk, 65-66 km Moscow Ring Road, Russia</span>
                        </p>
                        <p class="text-gray-600 dark:text-gray-300">
                            <i class="fas fa-calendar mr-2"></i>
                            <span data-translate="exhibitions.russia.date">2024年11月19日 - 11月22日</span>
                        </p>
                    </div>
                </div>

                <!-- China Exhibition 2024 -->
                <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow-lg hover:shadow-xl transition-shadow fade-in">
                    <div class="flex items-center mb-4">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/f/fa/Flag_of_the_People%27s_Republic_of_China.svg" alt="China Flag" class="w-8 h-6 mr-3 object-cover rounded">
                        <h3 class="text-xl font-semibold" data-translate="exhibitions.china2024.country">中国</h3>
                    </div>
                    <div class="space-y-3">
                        <div class="flex items-center justify-between">
                            <p class="font-medium" data-translate="exhibitions.china2024.name">CPhI & PMEC China 2024</p>
                            <span class="text-primary-600 dark:text-primary-400 font-medium ml-2" data-translate="exhibitions.china2024.booth">展位号：E7A56</span>
                        </div>
                        <p class="text-gray-600 dark:text-gray-300">
                            <i class="fas fa-map-marker-alt mr-2"></i>
                            <span data-translate="exhibitions.china2024.venue">上海新国际博览中心</span>
                            <span class="text-sm text-gray-500 dark:text-gray-400 block mt-1" data-translate="exhibitions.china2024.address">中国上海市浦东新区龙阳路2345号，邮编：201204</span>
                        </p>
                        <p class="text-gray-600 dark:text-gray-300">
                            <i class="fas fa-calendar mr-2"></i>
                            <span data-translate="exhibitions.china2024.date">2024年6月19日 - 6月21日</span>
                        </p>
                    </div>
                </div>

                <!-- India Partnership -->
                <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow-lg hover:shadow-xl transition-shadow fade-in">
                    <div class="flex items-center mb-4">
                        <img src="https://upload.wikimedia.org/wikipedia/en/thumb/4/41/Flag_of_India.svg/1920px-Flag_of_India.svg.png" alt="India Flag" class="w-8 h-6 mr-3 object-cover rounded">
                        <h3 class="text-xl font-semibold" data-translate="exhibitions.india.country">印度</h3>
                    </div>
                    <div class="space-y-3">
                        <p class="text-gray-600 dark:text-gray-300" data-translate="exhibitions.india.description">与印度建立了多个合作伙伴关系</p>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-16 px-4 sm:px-6 lg:px-8">
        <div class="max-w-7xl mx-auto">
            <h2 class="text-3xl font-bold text-center mb-12" data-translate="contact.title">联系我们</h2>
            <div class="grid md:grid-cols-2 gap-8 mb-8">
                <!-- Contact Information Card -->
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg hover:shadow-xl transition-shadow fade-in">
                    <div class="p-6">
                        <h3 class="text-xl font-semibold mb-4" data-translate="contact.contactInfo">联系方式</h3>
                        <div class="grid md:grid-cols-1 gap-6">
                            <div class="flex items-start">
                                <i class="fas fa-map-marker-alt text-primary-600 mt-1 mr-4"></i>
                                <div>
                                    <p class="font-medium" data-translate="contact.address">地址</p>
                                    <p class="text-gray-600 dark:text-gray-300" data-translate="contact.addressValue">杭州市万塘路18号黄龙时代中心A座1306</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <i class="fas fa-phone text-primary-600 mt-1 mr-4"></i>
                                <div>
                                    <p class="font-medium" data-translate="contact.phone">电话</p>
                                    <p class="text-gray-600 dark:text-gray-300" data-translate="contact.phoneValue"><a href="tel:+86-571-88035971" class="hover:text-primary-600 dark:hover:text-primary-400">+86-571-88035971</a></p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <i class="fas fa-envelope text-primary-600 mt-1 mr-4"></i>
                                <div>
                                    <p class="font-medium" data-translate="contact.email">邮箱</p>
                                    <p class="text-gray-600 dark:text-gray-300" data-translate="contact.emailValue"><a href="mailto:ichbiofarm@outlook.com" class="hover:text-primary-600 dark:hover:text-primary-400">ichbiofarm@outlook.com</a></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Location Map Card -->
                <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg hover:shadow-xl transition-shadow fade-in">
                    <div class="p-6">
                        <h3 class="text-xl font-semibold mb-4" data-translate="contact.location">我们的位置</h3>
                        <div class="w-full h-64 rounded-lg overflow-hidden shadow-inner">
                            <iframe id="map-iframe" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3445.743066281198!2d120.12505230000001!3d30.2729011!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x344b62f752377ba9%3A0x791427eed1714276!2sDragon%20Times%20Center%20Building%20A%2C%20%E9%BB%84%E9%BE%99%20Xi%20Hu%20Qu%2C%20Hang%20Zhou%20Shi%2C%20Zhe%20Jiang%20Sheng%2C%20China%2C%20310058!5e0!3m2!1sen!2shk!4v1743556757324!5m2!1sen!2shk" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                            <script>
                                function updateMapTheme() {
                                    const mapIframe = document.getElementById('map-iframe');
                                    const isDark = document.documentElement.classList.contains('dark');
                                    const currentSrc = mapIframe.src;
                                    // Remove existing theme parameter if present
                                    let newSrc = currentSrc.replace(/&theme=[^&]*/, '');
                                    // Add appropriate theme parameter
                                    newSrc += (newSrc.includes('?') ? '&' : '?') + 'theme=' + (isDark ? 'dark' : 'light');
                                    // Only update if changed to prevent unnecessary reloads
                                    if (newSrc !== currentSrc) {
                                        mapIframe.src = newSrc;
                                    }
                                }
                                // Initial theme setup
                                updateMapTheme();
                                // Listen for theme changes
                                document.addEventListener('themeChanged', updateMapTheme);
                            </script>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Online Inquiry Card -->
            <div>
                <div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow-lg hover:shadow-xl transition-shadow fade-in">
                    <h3 class="text-xl font-semibold mb-4" data-translate="contact.inquiry">在线询价</h3>
                    <form class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium mb-1" data-translate="contact.productName">产品名称</label>
                            <input type="text" class="w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-1" data-translate="contact.specification">规格</label>
                            <input type="text" class="w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-1" data-translate="contact.companyName">公司名称</label>
                            <input type="text" class="w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700">
                        </div>
                        <div>
                            <label class="block text-sm font-medium mb-1" data-translate="contact.contact">联系方式</label>
                            <input type="text" class="w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700">
                        </div>
                        <button type="submit" class="w-full bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors" data-translate="contact.submit">
                            提交询价
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-3 gap-8">
                <div>
                    <h3 class="text-xl font-bold mb-4">ICH Biofarm</h3>
                    <p class="text-gray-400" data-translate="site.description">专业医药中间体供应商</p>
                </div>
                <div>
                    <h3 class="text-xl font-bold mb-4" data-translate="footer.quickLinks">快速链接</h3>
                    <ul class="space-y-2">
                        <li><a href="#about" class="text-gray-400 hover:text-white" data-translate="nav.about">关于我们</a></li>
                        <li><a href="#products" class="text-gray-400 hover:text-white" data-translate="nav.products">产品</a></li>
                        <li><a href="#technology" class="text-gray-400 hover:text-white" data-translate="nav.technology">技术</a></li>
                        <li><a href="#contact" class="text-gray-400 hover:text-white" data-translate="nav.contact">联系我们</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-xl font-bold mb-4" data-translate="footer.author">作者信息</h3>
                    <div class="space-y-2">
                        <p class="text-gray-400" data-translate="footer.authorName">作者：ICH Biofarm</p>
                        <div class="flex space-x-4">
                            <a href="https://www.linkedin.com/company/31955962/" target="_blank" class="text-gray-400 hover:text-white">
                                <i class="fab fa-linkedin"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="mt-8 pt-8 border-t border-gray-800 text-center text-gray-400">
                <p data-translate="footer.copyright">&copy; 2025 ICH Biofarm. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Product Catalog Modal -->
    <div id="product-catalog-modal" class="fixed inset-0 z-50 hidden overflow-y-auto">
        <div class="fixed inset-0 bg-black bg-opacity-50 transition-opacity" onclick="closeProductCatalog()"></div>
        <div class="flex items-center justify-center min-h-screen p-2 sm:p-4">
            <div class="relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-7xl w-full mx-auto max-h-[90vh] flex flex-col">
                <!-- Modal Header -->
                <div class="flex justify-between items-center p-4 sm:p-6 border-b border-gray-200 dark:border-gray-700 sticky top-0 bg-white dark:bg-gray-800 z-10">
                    <h3 class="text-xl sm:text-2xl font-bold" data-translate="products.catalogTitle">产品目录</h3>
                    <button onclick="closeProductCatalog()" class="text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 focus:outline-none p-2">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <!-- Modal Controls -->
                <div class="p-4 sm:p-6 border-b border-gray-200 dark:border-gray-700 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 sticky top-[68px] bg-white dark:bg-gray-800 z-10">
                    <!-- Search Box -->
                    <div class="relative md:col-span-2">
                        <input 
                            type="text" 
                            id="catalog-search" 
                            class="w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"
                            placeholder="搜索产品..." 
                            data-translate="products.catalogSearchPlaceholder">
                        <button class="absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-primary-600">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                    
                    <!-- Main Type Filter -->
                    <div>
                        <select 
                            id="catalog-main-type-filter" 
                            class="w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700">
                            <option value="all" data-translate="products.allMainTypes">所有主要类型</option>
                            <option value="API" data-translate="products.API">药物活性成分</option>
                            <option value="VIT" data-translate="products.VIT">维生素</option>
                            <option value="AA" data-translate="products.AA">氨基酸</option>
                        </select>
                    </div>
                    
                    <!-- Category Filter -->
                    <div>
                        <select 
                            id="catalog-category-filter" 
                            class="w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700">
                            <option value="all" data-translate="products.allCategories">所有类别</option>
                            <!-- 子类别将通过JavaScript动态加载 -->
                        </select>
                    </div>
                    
                    <!-- Advanced Filters Toggle -->
                    <div class="md:col-span-2 lg:col-span-4">
                        <button 
                            id="toggle-advanced-filters"
                            class="flex items-center text-gray-600 dark:text-gray-300 text-sm">
                            <span id="advanced-filters-label" data-translate="products.advancedFilters">高级筛选</span>
                            <i id="advanced-filters-icon" class="fas fa-chevron-down ml-1 transition-transform"></i>
                        </button>
                    </div>
                    
                    <!-- Advanced Filters (hidden by default) -->
                    <div id="advanced-filters" class="hidden md:col-span-2 lg:col-span-4 grid grid-cols-1 md:grid-cols-3 gap-4">
                        <!-- Grade Filter -->
                        <div>
                            <label class="block text-sm font-medium mb-1" data-translate="products.table.grade">等级</label>
                            <select 
                                id="catalog-grade-filter" 
                                class="w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700">
                                <option value="all" data-translate="products.allGrade">所有等级</option>
                                <option value="Pharm">Pharm</option>
                                <option value="Pharm/Food">Pharm/Food</option>
                                <option value="Food">Food</option>
                            </select>
                        </div>
                        
                        <!-- Qualification Filter -->
                        <div>
                            <label class="block text-sm font-medium mb-1" data-translate="products.table.qualification">资质</label>
                            <select 
                                id="catalog-qualification-filter" 
                                class="w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700">
                                <option value="all" data-translate="products.allQualification">所有资质</option>
                                <option value="GMP">GMP</option>
                                <option value="DMF">DMF</option>
                                <option value="CEP">CEP</option>
                                <option value="US DMF">US DMF</option>
                                <option value="Chinese GMP">Chinese GMP</option>
                                <option value="cGMP">cGMP</option>
                                <option value="EU-GMP">EU-GMP</option>
                            </select>
                        </div>
                        
                        <!-- Standard Filter -->
                        <div>
                            <label class="block text-sm font-medium mb-1" data-translate="products.table.standard">标准</label>
                            <select 
                                id="catalog-standard-filter" 
                                class="w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700">
                                <option value="all" data-translate="products.allStandard">所有标准</option>
                                <option value="EP">EP</option>
                                <option value="USP">USP</option>
                                <option value="BP">BP</option>
                                <option value="CP">CP</option>
                                <option value="JP">JP</option>
                                <option value="AJI">AJI</option>
                                <option value="IP">IP</option>
                                <option value="FCC">FCC</option>
                            </select>
                        </div>
                        
                        <!-- Items Per Page 已移至分页控件左侧 -->
                    </div>
                </div>
                
                <!-- Modal Content -->
                <div class="overflow-y-auto p-4 sm:p-6 flex-grow">
                    <div id="catalog-content"></div>
                </div>
                
                <!-- Modal Footer -->
                <div class="p-4 sm:p-6 border-t border-gray-200 dark:border-gray-700 flex flex-col sm:flex-row justify-between items-center sticky bottom-0 bg-white dark:bg-gray-800 z-10">
                    <div id="catalog-stats" class="text-gray-500 dark:text-gray-400 mb-4 sm:mb-0 text-center sm:text-left">
                        <span data-translate="products.showing">显示</span> <span id="catalog-showing">0</span> <span data-translate="products.of">中的</span> <span id="catalog-total">0</span> <span data-translate="products.products">个产品</span>
                    </div>
                    <div class="flex flex-wrap items-center justify-center gap-2">
                        <!-- Items Per Page Selector (移至此处) -->
                        <div class="flex items-center mr-2">
                            <span class="text-sm text-gray-500 dark:text-gray-400 mr-2" data-translate="products.itemsPerPage">每页</span>
                            <select 
                                id="catalog-items-per-page" 
                                class="w-16 h-10 rounded bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-2 text-center">
                                <option value="10">10</option>
                                <option value="20">20</option>
                                <option value="50">50</option>
                                <option value="100">100</option>
                            </select>
                        </div>
                        <div id="catalog-pagination" class="flex flex-wrap justify-center gap-2">
                            <!-- Pagination will be added here dynamically -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Navigation scroll effect
        const nav = document.getElementById('main-nav');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileMenuButton = document.getElementById('mobile-menu-button');

        window.addEventListener('scroll', () => {
            if (window.scrollY > 0) {
                nav.classList.add('bg-white/90', 'dark:bg-gray-900/90', 'backdrop-blur-md', 'shadow-sm');
                nav.classList.add('border-b', 'border-gray-200', 'dark:border-gray-800');
            } else {
                nav.classList.remove('bg-white/90', 'dark:bg-gray-900/90', 'backdrop-blur-md', 'shadow-sm');
                nav.classList.remove('border-b', 'border-gray-200', 'dark:border-gray-800');
            }
        });
        
        // Ensure mobile nav always has background when displayed
        if (window.innerWidth < 768) {
            nav.classList.add('bg-white', 'dark:bg-gray-900');
        }
        
        // Ensure mobile menu always has background
        window.addEventListener('resize', () => {
            if (window.innerWidth < 768) {
                nav.classList.add('bg-white', 'dark:bg-gray-900');
            }
        });
        
        // Make sure nav has background when at top of page and mobile menu is open
        const ensureNavBackground = () => {
            if (!mobileMenu.classList.contains('hidden')) {
                nav.classList.add('bg-white', 'dark:bg-gray-900');
            } else if (window.scrollY === 0) {
                nav.classList.remove('bg-white', 'dark:bg-gray-900');
            }
        };

        // Mobile menu toggle
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
            const icon = mobileMenuButton.querySelector('i');
            if (mobileMenu.classList.contains('hidden')) {
                icon.classList.remove('fa-times');
                icon.classList.add('fa-bars');
            } else {
                icon.classList.remove('fa-bars');
                icon.classList.add('fa-times');
            }
            // Ensure nav has background when menu is open
            ensureNavBackground();
        });

        // Close mobile menu when clicking outside
        document.addEventListener('click', (e) => {
            if (!nav.contains(e.target) && !mobileMenu.classList.contains('hidden')) {
                mobileMenu.classList.add('hidden');
                const icon = mobileMenuButton.querySelector('i');
                icon.classList.remove('fa-times');
                icon.classList.add('fa-bars');
            }
        });

        // Theme toggle
        const themeToggle = document.getElementById('theme-toggle');
        const mobileThemeToggle = document.getElementById('mobile-theme-toggle');

        function toggleTheme() {
            if (document.documentElement.classList.contains('dark')) {
                document.documentElement.classList.remove('dark');
                localStorage.theme = 'light';
            } else {
                document.documentElement.classList.add('dark');
                localStorage.theme = 'dark';
            }
            // Dispatch themeChanged event to update map and other theme-dependent elements
            document.dispatchEvent(new Event('themeChanged'));
        }

        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }

        themeToggle.addEventListener('click', toggleTheme);
        mobileThemeToggle.addEventListener('click', toggleTheme);

        // Fade-in animation
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        });

        document.querySelectorAll('.fade-in').forEach((el) => observer.observe(el));

        // Smooth scroll
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Language translations
        const translations = {
            zh: {
                site: {
                    description: "专业医药中间体供应商"
                },
                exhibitions: {
                    title: "线下展会",
                    japan: {
                        country: "日本",
                        name: "CPHI Japan 2025",
                        venue: "东京有明国际会展中心",
                        address: "日本东京都江东区有明3-21-1，邮编：135-0063",
                        date: "2025年04月09日 - 04月11日",
                        booth: "展位号：4X16"
                    },
                    middleEast: {
                        country: "中东和非洲",
                        name: "CPHI Middle East 2024",
                        venue: "利雅得前线展览与会议中心",
                        address: "沙特阿拉伯利雅得省利雅得市，哈立德国王国际机场，邮编：13413",
                        date: "2024年12月10日 - 12月12日",
                        booth: "展位号：4C59"
                    },
                    russia: {
                        country: "俄罗斯",
                        name: "Pharmtech & Ingredients 2024",
                        venue: "克洛库斯国际会展中心",
                        address: "俄罗斯莫斯科州克拉斯诺戈尔斯克市，Mezhdunarodnaya街16、18、20号",
                        date: "2024年11月19日 - 11月22日"
                    },
                    india: {
                        country: "印度",
                        description: "与印度建立了多个合作伙伴关系"
                    },
                    china2025: {
                        country: "中国",
                        name: "CPhI & PMEC China 2025",
                        venue: "上海新国际博览中心",
                        address: "中国上海市浦东新区龙阳路2345号，邮编：201204",
                        date: "2025年6月24日 - 6月26日",
                        booth: "展位号：E7A56"
                    },
                    china2024: {
                        country: "中国",
                        name: "CPhI & PMEC China 2024",
                        venue: "上海新国际博览中心",
                        address: "中国上海市浦东新区龙阳路2345号，邮编：201204",
                        date: "2024年6月19日 - 6月21日",
                        booth: "展位号：E7A56"
                    }
                },
                nav: {
                    about: "关于我们",
                    products: "主要产品",
                    technology: "技术实力",
                    contact: "联系我们"
                },
                hero: {
                    title: "杭州安凯生物医药",
                    subtitle: "专业医药中间体、水处理剂及特种化学品研发与销售",
                    contact: "联系我们",
                    viewProducts: "查看产品"
                },
                about: {
                    title: "关于我们",
                    description: "杭州安凯生物医药有限公司秉承国际、合作、诚信的价值观。作为一家充满活力的专业公司，我们致力于在全球建立品牌并快速进步。",
                    strengths: "我们的优势",
                    strength1: "深入的知识：对中国医药和化工制造领域的深刻理解",
                    strength2: "合作伙伴：与100多家工厂保持稳定的合作关系",
                    strength3: "快速响应：及时满足客户需求，确保供应链效率",
                    commitments: "我们的承诺",
                    commitment1: "质量至上：严格遵循质量第一原则",
                    commitment2: "研发与营销：专业团队协同工作，推动公司创新发展"
                },
                products: {
                    title: "主要产品",
                    API: "药物活性成分",
                    APIDesc: "高品质原料药和中间体",
                    VIT: "维生素",
                    VITDesc: "药品和食品级维生素",
                    AA: "氨基酸",
                    AADesc: "优质氨基酸产品",
                    searchPlaceholder: "搜索产品名称、CAS号、规格、标准...",
                    export: "导出产品数据",
                    viewAll: "查看所有产品",
                    catalogTitle: "产品目录",
                    catalogSearchPlaceholder: "搜索产品名称、CAS号、规格、分类...",
                    allCategories: "所有类别",
                    allMainTypes: "所有主要类型",
                    itemsPerPage: "条/页",
                    noProductsFound: "没有找到匹配的产品",
                    showing: "显示",
                    of: "中的",
                    products: "个产品",
                    advancedFilters: "高级筛选",
                    hideFilters: "收起筛选",
                    allQualification: "所有资质",
                    allStandard: "所有标准",
                    table: {
                        category: "分类",
                        name: "产品名称",
                        cas: "CAS号",
                        grade: "等级",
                        qualification: "资质",
                        standard: "标准",
                        spec: "规格",
                        package: "包装",
                    }
                },
                technology: {
                    title: "技术实力",
                    team: "专业团队",
                    teamDesc: "拥有2名有机化学博士、3名工程硕士及其他研发人员",
                    patents: "专利技术",
                    patentsDesc: "拥有10多项专利，多个产品在国内首次研发并产业化",
                    equipment: "先进设备",
                    equipmentDesc: "配备通风橱、有机合成设备及先进分析仪器",
                    cooperation: "产学研合作",
                    cooperationDesc: "与浙江大学、浙江科技学院及上海有机所建立长期合作关系"
                },
                contact: {
                    title: "联系我们",
                    contactInfo: "联系方式",
                    address: "地址",
                    addressValue: "杭州市万塘路18号黄龙时代中心A座1306",
                    phone: "电话",
                    phoneValue: "+86-571-88035971",
                    email: "邮箱",
                    emailValue: "ichbiofarm@outlook.com",
                    location: "我们的位置",
                    inquiry: "在线询价",
                    productName: "产品名称",
                    specification: "规格",
                    companyName: "公司名称",
                    contact: "联系方式",
                    submit: "提交询价"
                },
                footer: {
                    quickLinks: "快速链接",
                    author: "作者信息",
                    authorName: "作者：安凯生物",
                    copyright: "© 2025 ICH Biofarm. All rights reserved."
                }
            },
            en: {
                site: {
                    title: "ICH Biofarm - Professional Pharmaceutical Intermediates Supplier",
                    description: "Professional Pharmaceutical Intermediates Supplier"
                },
                exhibitions: {
                    title: "Exhibitions",
                    japan: {
                        country: "Japan",
                        name: "CPHI Japan 2025",
                        venue: "Tokyo Big Sight",
                        address: "Tokyo Big Sight, 3-21-1 Ariake, Koto-ku, Tokyo 135-0063, Japan",
                        date: "April 09-11, 2025",
                        booth: "Booth: 4X16"
                    },
                    middleEast: {
                        country: "Middle East & Africa",
                        name: "CPHI Middle East 2024",
                        venue: "Front Exhibition & Conference Center, Riyadh, Saudi Arabia",
                        address: "King Khalid International Airport, Riyadh 13413, Saudi Arabia",
                        date: "December 10-12, 2024",
                        booth: "Booth: 4C59"
                    },
                    russia: {
                        country: "Russia",
                        name: "Pharmtech & Ingredients 2024",
                        venue: "Crocus Expo IEC",
                        address: "Crocus Expo IEC, 16, 18, 20 Mezhdunarodnaya Street, Krasnogorsk, Moscow Oblast, Russia",
                        date: "November 19-22, 2024"
                    },
                    india: {
                        country: "India",
                        description: "Established many partnerships with India"
                    },
                    china2025: {
                        country: "China",
                        name: "CPhI & PMEC China 2025",
                        venue: "Shanghai New International Expo Center (SNIEC)",
                        address: "2345 Longyang Road, Pudong New Area, Shanghai 201204, China",
                        date: "June 24-26, 2025",
                        booth: "Booth: E7A56"
                    },
                    china2024: {
                        country: "China",
                        name: "CPhI & PMEC China 2024",
                        venue: "Shanghai New International Expo Center (SNIEC)",
                        address: "2345 Longyang Road, Pudong New Area, Shanghai 201204, China",
                        date: "June 19-21, 2024",
                        booth: "Booth: E7A56"
                    }
                },
                nav: {
                    about: "About Us",
                    products: "Products",
                    technology: "Technology",
                    contact: "Contact"
                },
                hero: {
                    title: "Hangzhou ICH Biofarm",
                    subtitle: "Professional R&D and Sales of Pharmaceutical Intermediates, Water Treatment Agents, and Special Chemicals",
                    contact: "Contact Us",
                    viewProducts: "View Products"
                },
                about: {
                    title: "About Us",
                    description: "Hangzhou ICH Biofarm Co. Ltd. upholds the values of internationalization, cooperation, and integrity. As a vibrant young company, we are committed to building our brand globally and making rapid progress.",
                    strengths: "Our Strengths",
                    strength1: "Deep Knowledge: Profound understanding of China's pharmaceutical and chemical manufacturing sector",
                    strength2: "Partnerships: Stable cooperation with over 100 factories",
                    strength3: "Quick Response: Timely meeting customer needs and ensuring supply chain efficiency",
                    commitments: "Our Commitments",
                    commitment1: "Quality First: Strict adherence to quality-first principles",
                    commitment2: "R&D & Marketing: Professional teams working together to drive innovation"
                },
                products: {
                    title: "Main Products",
                    API: "Active Pharmaceutical Ingredients",
                    APIDesc: "High-quality pharmaceutical intermediates supply",
                    VIT: "Vitamins",
                    VITDesc: "Various vitamin products",
                    AA: "Amino Acids",
                    AADesc: "Premium amino acid products",
                    searchPlaceholder: "Search by name, CAS number, spec, standard...",
                    export: "Export Product Data",
                    viewAll: "View All Products",
                    catalogTitle: "Product Catalog",
                    catalogSearchPlaceholder: "Search by name, CAS, specification, category...",
                    allCategories: "All Categories",
                    allMainTypes: "All Main Types",
                    itemsPerPage: "items/page",
                    noProductsFound: "No matching products found",
                    showing: "Showing",
                    of: "of",
                    products: "products",
                    advancedFilters: "Advanced Filters",
                    hideFilters: "Hide Filters",
                    allGrade: "All Grades",
                    allQualification: "All Qualifications",
                    allStandard: "All Standards",
                    table: {
                        name: "Product Name",
                        cas: "CAS No.",
                        spec: "Specification",
                        package: "Package",
                        category: "Category",
                        qualification: "Qualification",
                        standard: "Standard",
                        grade: "Grade"
                    }
                },
                technology: {
                    title: "Technical Strength",
                    team: "Professional Team",
                    teamDesc: "2 Ph.D. in Organic Chemistry, 3 Master of Engineering, and other R&D personnel",
                    patents: "Patent Technology",
                    patentsDesc: "Over 10 patents, multiple products first developed and industrialized in China",
                    equipment: "Advanced Equipment",
                    equipmentDesc: "Equipped with fume hoods, organic synthesis equipment, and advanced analytical instruments",
                    cooperation: "Industry-University Cooperation",
                    cooperationDesc: "Long-term cooperation with Zhejiang University, Zhejiang University of Science and Technology, and Shanghai Institute of Organic Chemistry"
                },
                contact: {
                    title: "Contact Us",
                    contactInfo: "Contact Information",
                    address: "Address",
                    addressValue: "Room 1306, Building A, Dragon Times Center, No. 18 Wantang Road, Hangzhou",
                    phone: "Phone",
                    phoneValue: "+86-571-88035971",
                    email: "Email",
                    emailValue: "ichbiofarm@outlook.com",
                    location: "Our Location",
                    inquiry: "Online Inquiry",
                    productName: "Product Name",
                    specification: "Specification",
                    companyName: "Company Name",
                    contact: "Contact",
                    submit: "Submit Inquiry"
                },
                footer: {
                    quickLinks: "Quick Links",
                    author: "Author Info",
                    authorName: "Author: ICH Biofarm",
                    copyright: "© 2025 ICH Biofarm. All rights reserved."
                }
            }
        };

        // 定义全局currentLang变量
        let currentLang = localStorage.getItem('preferred-language') || 'en';

        // Language switching functionality
        const langToggle = document.getElementById('lang-toggle');
        const langZh = langToggle.querySelector('.lang-zh');
        const langEn = langToggle.querySelector('.lang-en');
        
        // 先获取移动端语言切换按钮元素
        const mobileLangToggle = document.getElementById('mobile-lang-toggle');
        const mobileLangZh = mobileLangToggle.querySelector('.lang-zh');
        const mobileLangEn = mobileLangToggle.querySelector('.lang-en');

        function updateLanguage(lang) {
            // 更新当前语言变量
            currentLang = lang;
            
            // Update HTML lang attribute
            document.documentElement.lang = lang === 'zh' ? 'zh-CN' : 'en';

            // Update all translatable elements
            document.querySelectorAll('[data-translate]').forEach(element => {
                const key = element.getAttribute('data-translate');
                const keys = key.split('.');
                let value = translations[lang];
                
                for (const k of keys) {
                    if (!value || !value[k]) {
                        console.warn(`Translation missing for key: ${key} in language: ${lang}`);
                        return;
                    }
                    value = value[k];
                }
                
                if (value) {
                    element.textContent = value;
                }
            });

            // Update input placeholders
            document.getElementById('product-search').placeholder = 
                translations[lang].products.searchPlaceholder || "搜索产品名称、CAS号、规格、标准...";

            // Update language toggle button
            if (lang === 'zh') {
                langZh.classList.remove('hidden');
                langEn.classList.add('hidden');
                // Update mobile language toggle button
                mobileLangZh.classList.remove('hidden');
                mobileLangEn.classList.add('hidden');
            } else {
                langZh.classList.add('hidden');
                langEn.classList.remove('hidden');
                // Update mobile language toggle button
                mobileLangZh.classList.add('hidden');
                mobileLangEn.classList.remove('hidden');
            }

            // Store language preference
            localStorage.setItem('preferred-language', lang);
            
            // 如果产品表格渲染函数已加载，更新表格
            if (typeof initializeProductTables === 'function') {
                initializeProductTables();
            }
        }

        // Initialize language
        updateLanguage(currentLang);

        // Language toggle event listener
        langToggle.addEventListener('click', () => {
            const currentLang = langZh.classList.contains('hidden') ? 'en' : 'zh';
            updateLanguage(currentLang === 'zh' ? 'en' : 'zh');
        });
        
        // Mobile language toggle event listener
        
        // 确保移动端语言切换按钮正常工作
        mobileLangToggle.addEventListener('click', function(e) {
            e.preventDefault(); // 防止事件冒泡
            e.stopPropagation(); // 阻止事件传播
            const currentLang = mobileLangZh.classList.contains('hidden') ? 'en' : 'zh';
            updateLanguage(currentLang === 'zh' ? 'en' : 'zh');
        }, true); // 使用捕获阶段
    </script>
    <script src="products.js"></script>
    <script>
        // Product Catalog Modal Functions
        function openProductCatalog() {
            const modal = document.getElementById('product-catalog-modal');
            modal.classList.remove('hidden');
            document.body.classList.add('overflow-hidden');
            
            // Initialize catalog content
            initCatalogContent();
            
            // Set focus on search input for better mobile experience
            setTimeout(() => {
                document.getElementById('catalog-search').focus();
            }, 100);
        }
        
        function closeProductCatalog() {
            const modal = document.getElementById('product-catalog-modal');
            modal.classList.add('hidden');
            document.body.classList.remove('overflow-hidden');
        }
        
        function initCatalogContent() {
            const contentContainer = document.getElementById('catalog-content');
            const searchInput = document.getElementById('catalog-search');
            const mainTypeFilter = document.getElementById('catalog-main-type-filter');
            const categoryFilter = document.getElementById('catalog-category-filter');
            const gradeFilter = document.getElementById('catalog-grade-filter');
            const qualificationFilter = document.getElementById('catalog-qualification-filter');
            const standardFilter = document.getElementById('catalog-standard-filter');
            const itemsPerPageSelect = document.getElementById('catalog-items-per-page');
            const toggleAdvancedFilters = document.getElementById('toggle-advanced-filters');
            const advancedFilters = document.getElementById('advanced-filters');
            const advancedFiltersIcon = document.getElementById('advanced-filters-icon');
            
            let currentPage = 1;
            let allProducts = getAllProducts();
            let filteredProducts = allProducts;
            let itemsPerPage = parseInt(itemsPerPageSelect.value);
            
            // Toggle advanced filters
            toggleAdvancedFilters.addEventListener('click', () => {
                advancedFilters.classList.toggle('hidden');
                advancedFiltersIcon.classList.toggle('rotate-180');
                toggleAdvancedFilters.querySelector('span').textContent = 
                    advancedFilters.classList.contains('hidden') ? 
                        translations[currentLang].products.advancedFilters : 
                        translations[currentLang].products.hideFilters;
            });
            
            // Populate category filter based on main type selection
            populateCategoryFilter();
            
            function populateCategoryFilter() {
                // Clear existing options except the first one
                while (categoryFilter.options.length > 1) {
                    categoryFilter.remove(1);
                }
                
                const selectedMainType = mainTypeFilter.value;
                if (selectedMainType === 'all') {
                    // Add all categories from all main types
                    Object.keys(products).forEach(mainType => {
                        Object.keys(products[mainType].categories).forEach(category => {
                            const option = document.createElement('option');
                            option.value = category;
                            option.textContent = category;
                            categoryFilter.appendChild(option);
                        });
                    });
                } else if (products[selectedMainType]) {
                    // Add categories from selected main type
                    Object.keys(products[selectedMainType].categories).forEach(category => {
                        const option = document.createElement('option');
                        option.value = category;
                        option.textContent = category;
                        categoryFilter.appendChild(option);
                    });
                }
            }
            
            // Initial render
            renderCatalogContent(filteredProducts, currentPage, itemsPerPage);
            
            // Event listeners
            searchInput.addEventListener('input', filterAndRenderProducts);
            
            mainTypeFilter.addEventListener('change', () => {
                populateCategoryFilter();
                filterAndRenderProducts();
            });
            
            categoryFilter.addEventListener('change', filterAndRenderProducts);
            document.getElementById('catalog-grade-filter').addEventListener('change', filterAndRenderProducts);
            qualificationFilter.addEventListener('change', filterAndRenderProducts);
            standardFilter.addEventListener('change', filterAndRenderProducts);
            
            itemsPerPageSelect.addEventListener('change', () => {
                itemsPerPage = parseInt(itemsPerPageSelect.value);
                currentPage = 1; // Reset to first page on items per page change
                filterAndRenderProducts();
            });
            
            function filterAndRenderProducts() {
                const searchTerm = searchInput.value.toLowerCase().trim();
                const mainTypeValue = mainTypeFilter.value;
                const categoryValue = categoryFilter.value;
                const gradeValue = document.getElementById('catalog-grade-filter').value;
                const qualificationValue = qualificationFilter.value;
                const standardValue = standardFilter.value;
                
                // First get all products
                allProducts = getAllProducts();
                
                // Step 1: Filter by main type
                if (mainTypeValue !== 'all') {
                    filteredProducts = {};
                    filteredProducts[mainTypeValue] = allProducts[mainTypeValue];
                } else {
                    filteredProducts = allProducts;
                }
                
                // Step 2: Filter by category
                if (categoryValue !== 'all') {
                    Object.keys(filteredProducts).forEach(mainType => {
                        filteredProducts[mainType] = filteredProducts[mainType].filter(product => 
                            product.category === categoryValue
                        );
                    });
                }
                
                // Step 3: Filter by grade
                if (gradeValue !== 'all') {
                    Object.keys(filteredProducts).forEach(mainType => {
                        filteredProducts[mainType] = filteredProducts[mainType].filter(product => 
                            product.grade === gradeValue
                        );
                    });
                }
                
                // Step 4: Filter by qualification
                if (qualificationValue !== 'all') {
                    Object.keys(filteredProducts).forEach(mainType => {
                        filteredProducts[mainType] = filteredProducts[mainType].filter(product => 
                            product.qualification && product.qualification.includes(qualificationValue)
                        );
                    });
                }
                
                // Step 5: Filter by standard
                if (standardValue !== 'all') {
                    Object.keys(filteredProducts).forEach(mainType => {
                        filteredProducts[mainType] = filteredProducts[mainType].filter(product => 
                            product.standard.includes(standardValue)
                        );
                    });
                }
                
                // Step 6: Filter by search term
                if (searchTerm) {
                    Object.keys(filteredProducts).forEach(mainType => {
                        filteredProducts[mainType] = filteredProducts[mainType].filter(product => 
                            product.name.toLowerCase().includes(searchTerm) ||
                            product.cas.toLowerCase().includes(searchTerm) ||
                            product.grade && product.grade.toLowerCase().includes(searchTerm) ||
                            product.qualification && product.qualification.toLowerCase().includes(searchTerm) ||
                            product.standard && product.standard.toLowerCase().includes(searchTerm) ||
                            product.category && product.category.toLowerCase().includes(searchTerm)
                        );
                    });
                }
                
                // Reset to first page on filter change
                currentPage = 1;
                
                // Render filtered products
                renderCatalogContent(filteredProducts, currentPage, itemsPerPage);
                
                // Scroll to top after filtering for better mobile experience
                document.querySelector('#product-catalog-modal .overflow-y-auto').scrollTop = 0;
            }
        }
        
        function renderCatalogContent(productsData, page, itemsPerPage) {
            const contentContainer = document.getElementById('catalog-content');
            const paginationContainer = document.getElementById('catalog-pagination');
            const catalogShowing = document.getElementById('catalog-showing');
            const catalogTotal = document.getElementById('catalog-total');
            
            // Flatten all products into a single array for pagination
            let allProducts = [];
            Object.keys(productsData).forEach(mainType => {
                productsData[mainType].forEach(product => {
                    allProducts.push({
                        ...product,
                        mainType
                    });
                });
            });
            
            // Calculate pagination
            const totalProducts = allProducts.length;
            const totalPages = Math.ceil(totalProducts / itemsPerPage);
            const startIndex = (page - 1) * itemsPerPage;
            const endIndex = Math.min(startIndex + itemsPerPage, totalProducts);
            const currentProducts = allProducts.slice(startIndex, endIndex);
            
            // Update stats
            catalogShowing.textContent = currentProducts.length;
            catalogTotal.textContent = totalProducts;
            
            // Render content
            if (currentProducts.length === 0) {
                contentContainer.innerHTML = `
                    <div class="text-center py-10">
                        <p class="text-gray-500 dark:text-gray-400">${translations[currentLang].products.noProductsFound}</p>
                    </div>
                `;
                paginationContainer.innerHTML = '';
                return;
            }
            
            // Group products by main type and category for display
            const productsByType = {};
            currentProducts.forEach(product => {
                const mainType = product.mainType;
                const category = product.category;
                
                if (!productsByType[mainType]) {
                    productsByType[mainType] = {};
                }
                
                if (!productsByType[mainType][category]) {
                    productsByType[mainType][category] = [];
                }
                
                productsByType[mainType][category].push(product);
            });
            
            // Render products
            let html = '';
            
            Object.keys(productsByType).forEach(mainType => {
                const mainTypeTitle = translations[currentLang].products[mainType] || productTypeNames[mainType]?.[currentLang] || mainType;
                
                html += `<div class="mb-10">
                    <h2 class="text-2xl font-bold mb-6 text-primary-600 dark:text-primary-400">${mainTypeTitle}</h2>`;
                
                Object.keys(productsByType[mainType]).forEach(category => {
                    const products = productsByType[mainType][category];
                    
                    html += `
                        <div class="mb-8">
                            <h3 class="text-xl font-semibold mb-4 ml-2 border-l-4 border-primary-500 pl-3">${category}</h3>
                            <div class="overflow-x-auto -mx-4 sm:mx-0">
                                <div class="inline-block min-w-full align-middle">
                                    <table class="min-w-full bg-white dark:bg-gray-800 rounded-lg shadow-lg">
                                        <thead class="bg-gray-50 dark:bg-gray-700">
                                            <tr>
                                                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">${translations[currentLang].products.table.name}</th>
                                                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">${translations[currentLang].products.table.cas}</th>
                                                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">${translations[currentLang].products.table.grade}</th>
                                                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">${translations[currentLang].products.table.qualification}</th>
                                                <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">${translations[currentLang].products.table.standard}</th>
                                            </tr>
                                        </thead>
                                        <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
                                            ${products.map(product => `
                                                <tr class="hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
                                                    <td class="px-4 py-3 text-sm text-gray-900 dark:text-gray-100 font-medium">${product.name}</td>
                                                    <td class="px-4 py-3 text-sm text-gray-500 dark:text-gray-400">${product.cas}</td>
                                                    <td class="px-4 py-3 text-sm text-gray-500 dark:text-gray-400">${product.grade}</td>
                                                    <td class="px-4 py-3 text-sm text-gray-500 dark:text-gray-400">${product.qualification}</td>
                                                    <td class="px-4 py-3 text-sm text-gray-500 dark:text-gray-400">${product.standard}</td>
                                                </tr>
                                            `).join('')}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    `;
                });
                
                html += `</div>`;
            });
            
            contentContainer.innerHTML = html;
            
            // Render pagination
            if (totalPages > 1) {
                let paginationHtml = '';
                
                // Previous button
                paginationHtml += `
                    <button 
                        onclick="changeCatalogPage(${page - 1}, ${itemsPerPage})" 
                        class="${page === 1 ? 'opacity-50 cursor-not-allowed ' : ''}w-10 h-10 rounded bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-primary-500 flex items-center justify-center"
                        ${page === 1 ? 'disabled' : ''}>
                        <i class="fas fa-chevron-left"></i>
                    </button>
                `;
                
                // Page numbers - mobile responsive pagination
                const isMobile = window.innerWidth < 640;
                const maxVisiblePages = isMobile ? 3 : 5;
                let startPage = Math.max(1, page - Math.floor(maxVisiblePages / 2));
                let endPage = Math.min(totalPages, startPage + maxVisiblePages - 1);
                
                if (endPage - startPage + 1 < maxVisiblePages) {
                    startPage = Math.max(1, endPage - maxVisiblePages + 1);
                }
                
                if (startPage > 1) {
                    paginationHtml += `
                        <button 
                            onclick="changeCatalogPage(1, ${itemsPerPage})" 
                            class="w-10 h-10 rounded bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-primary-500 flex items-center justify-center">
                            1
                        </button>
                    `;
                    
                    if (startPage > 2) {
                        paginationHtml += `
                            <span class="w-10 h-10 flex items-center justify-center">...</span>
                        `;
                    }
                }
                
                for (let i = startPage; i <= endPage; i++) {
                    paginationHtml += `
                        <button 
                            onclick="changeCatalogPage(${i}, ${itemsPerPage})" 
                            class="w-10 h-10 rounded ${i === page ? 'bg-primary-600 text-white' : 'bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-primary-500'} flex items-center justify-center">
                            ${i}
                        </button>
                    `;
                }
                
                if (endPage < totalPages) {
                    if (endPage < totalPages - 1) {
                        paginationHtml += `
                            <span class="w-10 h-10 flex items-center justify-center">...</span>
                        `;
                    }
                    
                    paginationHtml += `
                        <button 
                            onclick="changeCatalogPage(${totalPages}, ${itemsPerPage})" 
                            class="w-10 h-10 rounded bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-primary-500 flex items-center justify-center">
                            ${totalPages}
                        </button>
                    `;
                }
                
                // Next button
                paginationHtml += `
                    <button 
                        onclick="changeCatalogPage(${page + 1}, ${itemsPerPage})" 
                        class="${page === totalPages ? 'opacity-50 cursor-not-allowed ' : ''}w-10 h-10 rounded bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-primary-500 flex items-center justify-center"
                        ${page === totalPages ? 'disabled' : ''}>
                        <i class="fas fa-chevron-right"></i>
                    </button>
                `;
                
                paginationContainer.innerHTML = paginationHtml;
                
                // Add swipe support for mobile
                addSwipeSupport();
            } else {
                paginationContainer.innerHTML = '';
            }
        }
        
        // Add swipe support for mobile pagination
        function addSwipeSupport() {
            const contentArea = document.querySelector('#product-catalog-modal .overflow-y-auto');
            let touchStartX = 0;
            let touchEndX = 0;
            
            contentArea.addEventListener('touchstart', (e) => {
                touchStartX = e.changedTouches[0].screenX;
            }, {passive: true});
            
            contentArea.addEventListener('touchend', (e) => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            }, {passive: true});
            
            function handleSwipe() {
                const swipeThreshold = 100;
                const itemsPerPage = parseInt(document.getElementById('catalog-items-per-page').value);
                
                if (touchEndX < touchStartX - swipeThreshold) {
                    // Swipe left - go to next page
                    const buttons = document.querySelectorAll('#catalog-pagination button');
                    const nextButton = buttons[buttons.length - 1];
                    if (!nextButton.disabled) {
                        const currentPage = parseInt(document.querySelector('#catalog-pagination .bg-primary-600').textContent);
                        changeCatalogPage(currentPage + 1, itemsPerPage);
                    }
                }
                
                if (touchEndX > touchStartX + swipeThreshold) {
                    // Swipe right - go to previous page
                    const prevButton = document.querySelector('#catalog-pagination button');
                    if (!prevButton.disabled) {
                        const currentPage = parseInt(document.querySelector('#catalog-pagination .bg-primary-600').textContent);
                        changeCatalogPage(currentPage - 1, itemsPerPage);
                    }
                }
            }
        }
        
        // Change catalog page
        window.changeCatalogPage = function(page, itemsPerPage) {
            const searchInput = document.getElementById('catalog-search');
            const mainTypeFilter = document.getElementById('catalog-main-type-filter');
            const categoryFilter = document.getElementById('catalog-category-filter');
            const gradeFilter = document.getElementById('catalog-grade-filter');
            const qualificationFilter = document.getElementById('catalog-qualification-filter');
            const standardFilter = document.getElementById('catalog-standard-filter');
            
            const searchTerm = searchInput.value.toLowerCase().trim();
            const mainTypeValue = mainTypeFilter.value;
            const categoryValue = categoryFilter.value;
            const gradeValue = gradeFilter.value;
            const qualificationValue = qualificationFilter.value;
            const standardValue = standardFilter.value;
            
            // Get all products
            let allProducts = getAllProducts();
            
            // Apply filters
            let filteredProducts = allProducts;
            
            // Filter by main type
            if (mainTypeValue !== 'all') {
                filteredProducts = {};
                filteredProducts[mainTypeValue] = allProducts[mainTypeValue];
            }
            
            // Filter by category
            if (categoryValue !== 'all') {
                Object.keys(filteredProducts).forEach(mainType => {
                    filteredProducts[mainType] = filteredProducts[mainType].filter(product => 
                        product.category === categoryValue
                    );
                });
            }
            
            // Filter by grade
            if (gradeValue !== 'all') {
                Object.keys(filteredProducts).forEach(mainType => {
                    filteredProducts[mainType] = filteredProducts[mainType].filter(product => 
                        product.grade === gradeValue
                    );
                });
            }
            
            // Filter by qualification
            if (qualificationValue !== 'all') {
                Object.keys(filteredProducts).forEach(mainType => {
                    filteredProducts[mainType] = filteredProducts[mainType].filter(product => 
                        product.qualification && product.qualification.includes(qualificationValue)
                    );
                });
            }
            
            // Filter by standard
            if (standardValue !== 'all') {
                Object.keys(filteredProducts).forEach(mainType => {
                    filteredProducts[mainType] = filteredProducts[mainType].filter(product => 
                        product.standard.includes(standardValue)
                    );
                });
            }
            
            // Filter by search term
            if (searchTerm) {
                Object.keys(filteredProducts).forEach(mainType => {
                    filteredProducts[mainType] = filteredProducts[mainType].filter(product => 
                        product.name.toLowerCase().includes(searchTerm) ||
                        product.cas.toLowerCase().includes(searchTerm) ||
                        product.spec && product.spec.toLowerCase().includes(searchTerm) ||
                        product.grade && product.grade.toLowerCase().includes(searchTerm) ||
                        product.qualification && product.qualification.toLowerCase().includes(searchTerm) ||
                        product.standard && product.standard.toLowerCase().includes(searchTerm) ||
                        product.category && product.category.toLowerCase().includes(searchTerm)
                    );
                });
            }
            
            // Render filtered products with new page
            renderCatalogContent(filteredProducts, page, itemsPerPage);
            
            // Scroll to top after page change for better mobile experience
            document.querySelector('#product-catalog-modal .overflow-y-auto').scrollTop = 0;
        };
        
        // Handle window resize for responsive pagination
        window.addEventListener('resize', () => {
            const modal = document.getElementById('product-catalog-modal');
            if (!modal.classList.contains('hidden')) {
                const searchInput = document.getElementById('catalog-search');
                const mainTypeFilter = document.getElementById('catalog-main-type-filter');
                const categoryFilter = document.getElementById('catalog-category-filter');
                const qualificationFilter = document.getElementById('catalog-qualification-filter');
                const standardFilter = document.getElementById('catalog-standard-filter');
                const itemsPerPageSelect = document.getElementById('catalog-items-per-page');
                
                const searchTerm = searchInput.value.toLowerCase().trim();
                const mainTypeValue = mainTypeFilter.value;
                const categoryValue = categoryFilter.value;
                const qualificationValue = qualificationFilter.value;
                const standardValue = standardFilter.value;
                const itemsPerPage = parseInt(itemsPerPageSelect.value);
                const currentPage = parseInt(document.querySelector('#catalog-pagination .bg-primary-600')?.textContent) || 1;
                
                // Get all products
                let allProducts = getAllProducts();
                
                // Apply filters
                let filteredProducts = allProducts;
                
                // Filter by main type
                if (mainTypeValue !== 'all') {
                    filteredProducts = {};
                    filteredProducts[mainTypeValue] = allProducts[mainTypeValue];
                }
                
                // Filter by category
                if (categoryValue !== 'all') {
                    Object.keys(filteredProducts).forEach(mainType => {
                        filteredProducts[mainType] = filteredProducts[mainType].filter(product => 
                            product.category === categoryValue
                        );
                    });
                }
                
                // Filter by grade
                const gradeFilter = document.getElementById('catalog-grade-filter');
                const gradeValue = gradeFilter.value;
                if (gradeValue !== 'all') {
                    Object.keys(filteredProducts).forEach(mainType => {
                        filteredProducts[mainType] = filteredProducts[mainType].filter(product => 
                            product.grade === gradeValue
                        );
                    });
                }
                
                // Filter by qualification
                if (qualificationValue !== 'all') {
                    Object.keys(filteredProducts).forEach(mainType => {
                        filteredProducts[mainType] = filteredProducts[mainType].filter(product => 
                            product.qualification && product.qualification.includes(qualificationValue)
                        );
                    });
                }
                
                // Filter by standard
                if (standardValue !== 'all') {
                    Object.keys(filteredProducts).forEach(mainType => {
                        filteredProducts[mainType] = filteredProducts[mainType].filter(product => 
                            product.standard.includes(standardValue)
                        );
                    });
                }
                
                // Filter by search term
                if (searchTerm) {
                    Object.keys(filteredProducts).forEach(mainType => {
                        filteredProducts[mainType] = filteredProducts[mainType].filter(product => 
                            product.name.toLowerCase().includes(searchTerm) ||
                            product.cas.toLowerCase().includes(searchTerm) ||
                            product.grade && product.grade.toLowerCase().includes(searchTerm) ||
                            product.qualification && product.qualification.toLowerCase().includes(searchTerm) ||
                            product.standard && product.standard.toLowerCase().includes(searchTerm) ||
                            product.category && product.category.toLowerCase().includes(searchTerm)
                        );
                    });
                }
                
                renderCatalogContent(filteredProducts, currentPage, itemsPerPage);
            }
        });
    </script>
    <script>
        var url = 'https://cdn.waplus.io/waplus-crm/settings/ossembed.js';
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.async = true;
        s.src = url;
        var options = {
        "enabled": true,
        "chatButtonSetting": {
        "backgroundColor": "#16BE45",
        "ctaText": "Message Us",
        "borderRadius": "8",
        "marginLeft": "20",
        "marginBottom": "20",
        "marginRight": "20",
        "position": "right",
        "textColor": "#ffffff",
        "phoneNumber": "+8617816758761",
        "messageText": "👋🏻Hello",
        "trackClick": true
        },
        "brandSetting": {
        "brandName": "ICH Biofarm",
        "brandSubTitle": "Replies within 1 day",
        "headerTextColor": "#fff",
        "brandImg": "https://ling-0-ling.github.io/images/logo.svg",
        "welcomeText": "Hi, there!\nHow can I help you?",
        "messageText": "Hello, I have a question about https%3A%2F%2Fwaplus.io%2Fchat-button-generator",
        "backgroundColor": "#0a5f54",
        "ctaText": "Start Chat",
        "borderRadius": "20",
        "autoShow": false,
        "btnColor": "#16BE45",
        "phoneNumber": "+8617816758761",
        "trackClick": true
        }
        }
        s.onload = function() {
        CreateWhatsappChatWidget(options);
        };
        var x = document.getElementsByTagName('script')[0];
        x.parentNode.insertBefore(s, x);
        </script>
</body>
</html>
